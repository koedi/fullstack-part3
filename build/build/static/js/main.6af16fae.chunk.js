(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(15),c=t.n(r),a=t(4),u=t(2),s=t(0),i=function(e){var n=e.searchTerm,t=e.handleSearchTermChange;return Object(s.jsxs)("div",{children:["filter shown with: ",Object(s.jsx)("input",{value:n,onChange:t})]})},o=function(e){var n=e.persons,t=e.searchTerm,r=e.deleteInfo;return Object(s.jsx)("div",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:[e.name," ",e.number," "," ",Object(s.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]})},e.id)}))})},l=function(e){return Object(s.jsxs)("form",{onSubmit:e.addInfo,children:[Object(s.jsxs)("div",{children:["name:   ",Object(s.jsx)("input",{value:e.newName,onChange:e.handleNameChange}),Object(s.jsx)("br",{}),"number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.message,t=e.className;return null===n?null:Object(s.jsx)("div",{className:t,children:n})},j=t(6),b=t(3),h=t.n(b),m="api/persons",f={getAll:function(){return h.a.get(m).then((function(e){return e.data}))},getOne:function(e){return h.a.get(m.concat("/",e)).then((function(e){return e.data}))},create:function(e){return h.a.post(m,e).then((function(e){return e.data}))},update:function(e,n){var t=Object(j.a)(Object(j.a)({},e),{},{number:n});return h.a.put(m.concat("/",t.id),t).then((function(e){return e.data}))},remove:function(e){return h.a.delete(m.concat("/",e)).then((function(e){return e.data}))}},O=(t(39),function(){var e=Object(u.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1],c=Object(u.useState)(""),j=Object(a.a)(c,2),b=j[0],h=j[1],m=Object(u.useState)(""),O=Object(a.a)(m,2),v=O[0],g=O[1],x=Object(u.useState)(""),p=Object(a.a)(x,2),w=p[0],C=p[1],N=Object(u.useState)({message:null,status:null}),S=Object(a.a)(N,2),T=S[0],k=S[1];Object(u.useEffect)((function(){f.getAll().then((function(e){return r(e)}))}),[]);var I=function(e,n){k({message:e,status:n}),setTimeout((function(){return k({message:null,status:null})}),3e3)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(d,{message:T.message,className:T.status}),Object(s.jsx)(i,{searchTerm:w,handleSearchTermChange:function(e){C(e.target.value)}}),Object(s.jsx)("h2",{children:"Add new number"}),Object(s.jsx)(l,{addInfo:function(e){if(e.preventDefault(),""!==b&&""!==v){var n={name:b,number:v};f.create(n).then((function(e){return r(t.concat(e))})),h(""),g(""),I("Added ".concat(b,"."),"ok")}else I("name or number is empty.","error")},newName:b,newNumber:v,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){g(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(o,{persons:t,searchTerm:w,deleteInfo:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name))&&(f.remove(e).then((function(){var n=t.filter((function(n){return n.id!==e}));r(n)})),I("Removed ".concat(n.name),"ok"))}})]})});c.a.render(Object(s.jsx)(O,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6af16fae.chunk.js.map