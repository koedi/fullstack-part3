(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(15),a=t.n(r),c=t(4),u=t(2),o=t(0),i=function(e){var n=e.searchTerm,t=e.handleSearchTermChange;return Object(o.jsxs)("div",{children:["filter shown with: ",Object(o.jsx)("input",{value:n,onChange:t})]})},s=function(e){var n=e.persons,t=e.searchTerm,r=e.deleteInfo;return Object(o.jsx)("div",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("p",{children:[e.name," ",e.number," "," ",Object(o.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]})},e.id)}))})},d=function(e){return Object(o.jsxs)("form",{onSubmit:e.addInfo,children:[Object(o.jsxs)("div",{children:["name:   ",Object(o.jsx)("input",{value:e.newName,onChange:e.handleNameChange}),Object(o.jsx)("br",{}),"number: ",Object(o.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.message,t=e.className;return null===n?null:Object(o.jsx)("div",{className:t,children:n})},h=t(6),m=t(3),b=t.n(m),j="api/persons",f={getAll:function(){return b.a.get(j).then((function(e){return e.data}))},getOne:function(e){return b.a.get(j.concat("/",e)).then((function(e){return e.data}))},create:function(e){return b.a.post(j,e).then((function(e){return e.data}))},update:function(e,n){var t=Object(h.a)(Object(h.a)({},e),{},{number:n});return b.a.put(j.concat("/",t.id),t).then((function(e){return e.data}))},remove:function(e){return b.a.delete(j.concat("/",e)).then((function(e){return e.data}))}},O=(t(39),function(){var e=Object(u.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],a=Object(u.useState)(""),h=Object(c.a)(a,2),m=h[0],b=h[1],j=Object(u.useState)(""),O=Object(c.a)(j,2),v=O[0],p=O[1],g=Object(u.useState)(""),x=Object(c.a)(g,2),w=x[0],C=x[1],N=Object(u.useState)({message:null,status:null}),k=Object(c.a)(N,2),S=k[0],T=k[1];Object(u.useEffect)((function(){f.getAll().then((function(e){return r(e)}))}),[]);var y=function(e,n){T({message:e,status:n}),setTimeout((function(){return T({message:null,status:null})}),3e3)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(l,{message:S.message,className:S.status}),Object(o.jsx)(i,{searchTerm:w,handleSearchTermChange:function(e){C(e.target.value)}}),Object(o.jsx)("h2",{children:"Add new number"}),Object(o.jsx)(d,{addInfo:function(e){if(e.preventDefault(),""!==m&&""!==v){var n={name:m,number:v};if(t.some((function(e){return e.name===m}))){var a=t.find((function(e){return e.name===m}));return window.confirm("".concat(m," is already added to phonebook, replace the old number with a new one?")),f.update(a,v).then((function(e){r(t.map((function(n){return n.name===a.name?e:n})))})).catch((function(e){var n=t.filter((function(e){return e.id!==a.id}));r(n),y("".concat(a.name," has already been deleted. Update failed."),"error")})),void y("Updated ".concat(a.name,"'s number."),"ok")}f.create(n).then((function(e){return r(t.concat(e))})),b(""),p(""),y("Added ".concat(m,"."),"ok")}else y("name or number is empty.","error")},newName:m,newNumber:v,handleNameChange:function(e){b(e.target.value)},handleNumberChange:function(e){p(e.target.value)}}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)(s,{persons:t,searchTerm:w,deleteInfo:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name))&&(f.remove(e).then((function(){var n=t.filter((function(n){return n.id!==e}));r(n)})),y("Removed ".concat(n.name),"ok"))}})]})});a.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e4ff2210.chunk.js.map