{"version":3,"sources":["components/Filter.js","components/Phonebook.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearchTermChange","value","onChange","Phonebook","persons","deleteInfo","filter","person","name","toLowerCase","includes","map","number","onClick","id","PersonForm","props","onSubmit","addInfo","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","className","baseUrl","exportObject","getAll","axios","get","then","response","data","getOne","concat","create","newObject","post","update","personObject","put","remove","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","status","notification","setNofitication","useEffect","personsService","initialPersons","showNotification","setTimeout","event","target","preventDefault","some","p","find","window","confirm","updatedPerson","catch","error","list","returnedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e4ff2210.chunk.js","sourcesContent":["const Filter = ({ searchTerm, handleSearchTermChange }) => {\n    return (\n        <div>\n            filter shown with: <input value={searchTerm} onChange={handleSearchTermChange}></input>\n        </div>\n    )\n}\nexport default Filter","const Phonebook = ({ persons, searchTerm, deleteInfo }) => {\n    return (\n        <div>\n            {persons\n                .filter(person => (person.name.toLowerCase()).includes(searchTerm.toLowerCase()))\n                .map(person =>\n                    <div key={person.id}>\n                        <p >{person.name} {person.number} {\" \"}\n                        <button onClick={() => deleteInfo(person.id)}>delete</button>\n                        </p>\n                    </div>\n\n                )\n            }\n            \n        </div>\n    )\n    //                \n}\n\nexport default Phonebook","const PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addInfo}>\n        <div>\n            name:   <input value={props.newName} onChange={props.handleNameChange}/><br/>\n            number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n            <button type=\"submit\" >add</button>\n        </div>\n    </form>    )\n}\n\nexport default PersonForm","const Notification = ({ message, className }) => {\n\n    if (message === null) {\n        return null\n    } else {\n        return(\n            <div className={className}>\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import axios from \"axios\";\n\n//const baseUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst getOne = (id) => {\n    const request = axios.get(baseUrl.concat(\"/\", id))\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (personObject, newNumber) => {\n    const person = {...personObject, number: newNumber}\n    const request = axios.put(baseUrl.concat(\"/\", person.id), person)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(baseUrl.concat(\"/\",id))\n    return request.then(response => response.data)\n}\n\nconst exportObject = {\n    getAll: getAll,\n    getOne: getOne,\n    create: create,\n    update: update,\n    remove: remove,\n}\n\nexport default exportObject","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport Phonebook from './components/Phonebook'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nimport personsService from './services/persons'\n\nimport './App.css'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [searchTerm, setSearchTerm] = useState('')\n    const [notification, setNofitication] = useState({message: null, status: null})\n\n    useEffect( () => {\n        personsService.getAll().then(initialPersons => setPersons(initialPersons))\n    }, [])\n\n\n    const addInfo = (event) => {\n        event.preventDefault()\n\n        if (newName === '' || newNumber === '') {\n            showNotification(\"name or number is empty.\", \"error\")\n            return\n        }\n\n        const personObject = {\n            name: newName,\n            number: newNumber,\n        }\n\n        // update info\n        if (persons.some(p => p.name === newName)) {\n            const person = persons.find(p => p.name === newName)\n            \n            window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n            personsService\n            .update(person, newNumber)\n            .then(updatedPerson => {\n                setPersons(\n                    persons.map(p => p.name === person.name ? updatedPerson : p)\n                )\n            })\n            .catch(error => {\n                const list = persons.filter(p => p.id !== person.id) //filter out deleted id\n                setPersons(list)\n                showNotification(`${person.name} has already been deleted. Update failed.`, \"error\")\n            })\n\n            showNotification(`Updated ${person.name}'s number.`, \"ok\")\n            return\n        }\n\n        personsService.create(personObject).then(returnedPerson => setPersons(persons.concat(returnedPerson)))\n        setNewName('')\n        setNewNumber('')\n\n        showNotification(`Added ${newName}.`, \"ok\")\n    }\n\n    const deleteInfo = (id) => {\n        const person = persons.find(p => p.id === id)\n        if (window.confirm(`Delete ${person.name}`)) {\n            personsService.remove(id).then(() => {\n                const list = persons.filter(p => p.id !== id) //filter out deleted id\n                setPersons(list)\n            })\n            showNotification(`Removed ${person.name}`, \"ok\")\n        }\n    }\n\n    const showNotification = (message, status) => {\n        setNofitication({message: message, status: status})\n        setTimeout(() => setNofitication({message: null, status: null}), 3000)\n    }\n\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleSearchTermChange = (event) => {\n        setSearchTerm(event.target.value)\n    }\n\n\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notification.message} className={notification.status} />\n            <Filter searchTerm={searchTerm} handleSearchTermChange={handleSearchTermChange} />\n        \n            <h2>Add new number</h2>\n            <PersonForm addInfo={addInfo} newName={newName} newNumber={newNumber} \n            handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n\n            <h2>Numbers</h2>\n            <Phonebook persons={persons} searchTerm={searchTerm} deleteInfo={deleteInfo} />\n        </div>\n    )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}